<div class="space-y-6">
  <!-- Filtros -->
  <div class="bg-white rounded-lg shadow p-4 border border-gray-200">
    <p class="text-lg font-semibold text-gray-700 mb-4">Filtros de Monitoreo</p>
    <div class="flex flex-wrap gap-4 items-end">
      <input
        [(ngModel)]="palabraClave"
        type="text"
        placeholder="Buscar por contenido o usuario..."
        class="w-full md:w-1/3 border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-400"
      />
      <input
        [(ngModel)]="maxResultados"
        type="number"
        min="1"
        class="w-28 border border-gray-300 rounded px-3 py-2 text-sm"
        placeholder="MÃ¡x resultados"
      />
      <select
        class="border border-gray-300 rounded px-3 py-2 text-sm"
        (change)="onSeleccionPlataforma($event)"
      >
        <option disabled selected>Selecciona una plataforma</option>
        <option value="x">Twitter / X</option>
        <option value="youtube">YouTube</option>
        <option value="tiktok">TikTok</option>
      </select>
      <button
        (click)="ejecutarScraping()"
        class="text-sm px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700"
      >
        Aceptar
      </button>

      <select
        class="ml-auto border border-gray-300 rounded px-3 py-2 text-sm"
        (change)="onChangeFiltroPlataforma($event)"
      >
        <option value="todas">Mostrar todas</option>
        <option value="x">Solo Twitter / X</option>
        <option value="youtube">Solo YouTube</option>
        <option value="tiktok">Solo TikTok</option>
      </select>
    </div>
  </div>

  <!-- Comentarios detectados -->
  <div class="bg-white rounded-lg shadow p-4 border border-gray-200">
    <p class="text-lg font-semibold text-gray-700 mb-2">Comentarios Detectados</p>
    <p class="text-sm text-gray-500 mb-4">{{ comentariosFiltrados.length }} comentarios requieren revisiÃ³n</p>

    <div *ngIf="cargando" class="text-sm text-blue-600">ðŸ”„ Cargando comentarios...</div>

    <div *ngIf="!cargando && comentariosFiltrados.length === 0" class="text-sm text-gray-500">
      No hay comentarios aÃºn. Inicia una bÃºsqueda.
    </div>

    <div class="space-y-4" *ngIf="!cargando && comentariosFiltrados.length > 0">
      <div *ngFor="let c of comentariosFiltrados" class="p-4 border border-gray-200 rounded-md bg-gray-50">
        <div class="flex flex-wrap items-center gap-2 text-xs font-semibold mb-2">
          <span class="bg-gray-200 text-gray-700 px-2 py-0.5 rounded">{{ c.etiquetas?.[0] || 'General' }}</span>
          <span class="bg-gray-200 text-gray-700 px-2 py-0.5 rounded capitalize">{{ c.plataforma }}</span>
          <span class="text-gray-500 ml-auto">{{ c.fecha }}</span>
        </div>

        <p class="text-sm text-gray-800 mb-2">"{{ c.comentario }}"</p>
        <p class="text-xs text-gray-500 mb-1">Por: {{ c.usuario }} â€¢ Confianza: {{ c.confianza }}%</p>

        <!-- <div class="mt-3 flex gap-2">
          <button class="text-sm px-3 py-1 rounded bg-green-100 text-green-700 hover:bg-green-200 hover:cursor-pointer">Aprobar</button>
          <button class="text-sm px-3 py-1 rounded bg-red-100 text-red-700 hover:bg-red-200 hover:cursor-pointer">Bloquear</button>
        </div> -->
      </div>
    </div>
  </div>
</div>
